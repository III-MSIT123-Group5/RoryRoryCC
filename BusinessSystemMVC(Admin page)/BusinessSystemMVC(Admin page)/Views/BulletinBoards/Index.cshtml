@model IEnumerable<BusinessSystemMVC_Admin_page_.Models.BulletinBoard>

@{
    ViewBag.Title = "Index";
}

<style>
    button {
        font-family:'NotoSansCJKtc-Bold';
    }

    h2 {
        font-family:'NotoSansCJKtc-Bold';
    }

</style>

<h2>　　公佈欄</h2>

<br/>

<button onclick="location.href='@Url.Action("Create", "BulletinBoards")'" type="button" class="btn btn-success"><i class="fa fa-comment" aria-hidden="true"></i> 新增貼文</button>

<br /><br />


<div>
    <table id="Btable">



    </table>



</div>


@section scripts{
    <script>
        $(document).ready(function () {

           $.ajax({
                url: '@Url.Action("LoadData", "BulletinBoards")',
                method: 'GET',
                dataType: 'json'
            })
            .done(function (datas) {

                    $('#Btable').append("<tr><th>留言內容</th><th>張貼時間</th><th>部門</th><th>姓名</th>");
                    for (var j = 0; j < datas.length; j++) {



                            $('#tableC').append("<tr>");
                            $('#tableC').append("<td>" + datas[j].Content + "</td>");
                            $('#tableC').append("<td>" + datas[j].PostTime + "</td>");
                            $('#tableC').append("<td>" + datas[j].name + "</td>");
                            $('#tableC').append("<td>" + datas[j].EmployeeName + "</td>");
                            $('#tableC').append("</tr>");
                        
                    }

                })



        });
    </script>        
    }

@*<div style="width:90%;margin:0 auto">

    <table id="BulletinTable" style="font-family:'NotoSansCJKtc-Light'">
        <thead>
            <tr>
                <th>留言內容</th>
                <th>張貼時間</th>
                <th>部門</th>
                <th>姓名</th>
            </tr>
        </thead>
    </table>

</div>*@

@*<link href="//cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" rel="stylesheet" />*@

@*@section scripts{

    <script src="//cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>


    <script src="~/Scripts/moment.min.js"></script>

    <script>


        $(document).ready(function () {

            $('#BulletinTable').DataTable({
            "ajax":{
                url: '@Url.Action("LoadData", "BulletinBoards")',
                type: "GET",
                dataType: 'json',
            },
                "columnDefs": [
                 { "targets":0,"data": "Content"},
                 { "targets": 1, "data": "PostTime", "render": function (data) { return moment(data).format("YYYY-MM-DD HH:mm:ss")}},
                 { "targets": 2,"data": "name"},
                 { "targets": 3,"data": "EmployeeName"},

                 ]
                   
            });


        });

    </script>

}*@



@*<table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Content)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PostTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Department.name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Employee.EmployeeName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Group.GroupName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Employee1.EmployeeName)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Content)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PostTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Department.name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Employee.EmployeeName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Group.GroupName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Employee1.EmployeeName)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.Num }) |
                @Html.ActionLink("Details", "Details", new { id=item.Num }) |
                @Html.ActionLink("Delete", "Delete", new { id=item.Num })
            </td>
        </tr>
    }

    </table>*@
