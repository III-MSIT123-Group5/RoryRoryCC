<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>評分</title>
    <style>
        .div1 {
            text-align: center;
        }
    </style>
</head>
<body>
    <ul>
        <li><a href="Form_Check.html">表單</a></li>
        <li><a href="ranking.html">評分</a></li>
        <li><a href="carousel.html">圖片輪播</a></li>
        <li><a href="calendar10-20.html">日期</a></li>
        <li><a href="9_9table.html">乘法表</a></li>

    </ul>

    <div class="div1">
        <img id="img1" class="s" title="1 Stars" src="image/star_hollow.png"  />
        <img id="img2" class="s" title="2 Stars" src="image/star_hollow.png"  />
        <img id="img3" class="s" title="3 Stars" src="image/star_hollow.png"  />
        <img id="img4" class="s" title="4 Stars" src="image/star_hollow.png"  />
        <img id="img5" class="s" title="5 Stars" src="image/star_hollow.png"  />
        <br /><span id="txtRk"></span>
    </div>

    <script>
        let s = document.querySelectorAll(".s");
        
        for (let i = 1; i <= s.length; i++) {
            //s[i].addEventListener("mouseover", function () { over(this) });
            //s[i].addEventListener("mouseout", function () { out(this) });
            document.querySelector(`#img${i}`).addEventListener("mouseover" ,function () { over(this) });
            document.querySelector(`#img${i}`).addEventListener("mouseout", function () { out(this) });
            document.querySelector(`#img${i}`).addEventListener("click", function () { Mclick(this) });
        }

        var click_count = 0;
        function over(x) {
            //console.log(x);
            for (let i = 1; i <=5; i++) {
                var y = document.getElementById(`img${i}`);
                y.src = "image/star_hollow.png";
            }
            for (let i = 1; i <= x.id[3]; i++) {
                var y = document.getElementById(`img${i}`);
                y.src = "image/star_fill.png";
                var txt = document.getElementById("txtRk");
                txt.innerHTML = `評分中${i}`;
            }
            click_count = 0;
        }
        function out(x) {
            if (click_count == 0) {
                for (let i = 1; i <= x.id[3]; i++) {
                    var y = document.getElementById(`img${i}`);
                    y.src = "image/star_hollow.png";
                    var txt = document.getElementById("txtRk");
                    txt.innerHTML ="";
                }
            }
        }
        function Mclick(x) {
            //console.log(x.id);
            var txt = document.getElementById("txtRk");
            txt.innerHTML = `你給${x.id[3]}分`;
            click_count += 1;
        }
    </script>
</body>
</html>